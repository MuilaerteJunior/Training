<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>Draw - version 4</title>
    <style>
        #theCanvas {
            background-image: -moz-radial-gradient(30px 30px, #FFF, #EEF);
        }
    </style>
</head>
<body>
    <canvas id="theCanvas" width="640" height="480">
        Attention! Your browser does not support the Canvas
    </canvas>
    <script>
        _KSM = {
            draw: function (left, top, width, height, stroke, fill) {
                //Draw something on the canvas
                var canvas = document.getElementById('theCanvas');
                if (canvas.getContext) {
                    //Defining default values for parameters
                    var options = {};

                    if (typeof left !== 'undefined') {
                        if (typeof left === 'object')
                            options = left;
                        else {
                            options = {
                                left: left,
                                top: top,
                                width: width,
                                height: height,
                                stroke: stroke,
                                fill: fill,
                            };
                        }
                    }

                    if (options.clear)
                        canvas.width = canvas.width;

                    options.left = options.left || _KSM.drawOptions.left;
                    options.top = options.top || _KSM.drawOptions.top;
                    options.width = options.width || _KSM.drawOptions.width;
                    options.height = options.height || _KSM.drawOptions.height;
                    options.fill = options.fill || _KSM.drawOptions.fill;
                    options.stroke = options.stroke || _KSM.drawOptions.stroke;

                    var context = canvas.getContext('2d');

                    context.strokeStyle = options.stroke;
                    context.fillStyle = options.fill;
                    context.fillRect(options.left, options.top,
                        options.width, options.height);
                    context.strokeRect(options.left, options.top,
                        options.width, options.height);
                }
            },
            drawOptions:
            {
                left: 10, top: 10, width: 100, height: 100,
                stroke: 'black', fill: 'silver',
                clear: false
            }
        };

        _KSM.drawOptions.stroke = '#44F';
        _KSM.drawOptions.fill = '#FFE';

        _KSM.draw();
        _KSM.draw(530, 370);
        _KSM.draw(120, 120, 400, 240 ,'red', 'teal');
        _KSM.draw({
            left: 100,
            top: 100,
            height: 440,
            width: 280,
            stroke: 'burlywood',
            fill: 'lemonchiffon'
        });

        //_KSM.drawOptions.stroke = '#44F';
        //_KSM.drawOptions.fill = '#FFE';
        //_KSM.draw({ clear: true });
        //_KSM.draw(530, 370);
    </script>
</body>
</html>